<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <link rel="stylesheet" th:href="@{/css/main.css}">
  <link rel="stylesheet" th:href="@{/css/gameNav.css}">
  <link rel="stylesheet" th:href="@{/css/gameSave.css}">
  <link rel="stylesheet" th:href="@{/css/buttons.css}">
  <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.js"></script>
  <script src=" https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.18/lang/summernote-ko-KR.min.js"></script>
</head>
<body>
<div id="section">
  <div id="saveForm">
    <form action="/game/save" method="post" enctype="multipart/form-data">
      <h2>게임 등록</h2>
      게임 제목: <input type="text" name="gameTitle" id="gameTitle" placeholder="제목" required>
      <div class ="Genre-select" >
      게임 장르:
      <select name="gameGenre" id="gameGenre">
        <option value="RTS">RTS</option>
        <option value="슈팅">슈팅</option>
        <option value="퍼즐">퍼즐</option>
        <option value="공포">공포</option>
        <option value="액션">액션</option>
        <option value="모험">모험</option>
        <option value="RPG">RPG</option>
      </select>
      </div>
      게임 제작사 : <input type="text" name="gameCreator" id="gameCreator" placeholder="제작사" required><br>
      배급사 : <input type="text" name="gameDistr" id="GameDistr">
      <div class ="Grade-select">
      게임 등급 :
      <select name="gameGrade" id="gameGrade">
        <option value="전체">전체 이용가</option>
        <option value="12세">12세 이용가</option>
        <option value="15세">15세 이용가</option>
        <option value="18세">18세 이용가</option>
      </select>
      </div>
      출시일 : <input type="date" name="createdAt"><br>
      출시가격 : <input type="text" name="releasePrice" id="releasePrice" oninput="calculateSalesPrice()"><br>
      할인율 : <input type="text" name="discountRate" id="discountRate" oninput="calculateSalesPrice()"><br>
      판매가격 : <input type="text" name="salesPrice" id="salesPrice" placeholder="가격과 할인율을 입력해주세요" readonly><br>
      게임 설명 : <textarea name="gameIntro" id="GameIntro" cols="30" rows="10" class="form-control"></textarea><br>
      파일첨부 : <input type="file" name="gameFile" multiple><br>
               <input type="submit" value="게임 등록">
    </form>
  </div>
</div>
</body>
<script>
  function calculateSalesPrice() {
    let releasePrice = parseFloat(document.getElementById("releasePrice").value);
    let discountRate = parseFloat(document.getElementById("discountRate").value);
    let salesPrice = (releasePrice * (100 - discountRate))/100;

    // 판매가격 필드에 값 설정
    document.getElementById("salesPrice").value = salesPrice.toFixed(0);
  }
</script>
</html>